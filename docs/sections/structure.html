<!-- CODE STRUCTURE SECTION -->
<section id="structure" class="py-20 px-6 bg-white dark:bg-gray-800">
  <div class="container mx-auto max-w-6xl">
    <div class="text-center mb-16">
      <span class="badge badge-blue mb-4">Python Fundamentals #5</span>
      <h2 class="text-4xl md:text-5xl font-bold mb-4 gradient-text">
        <i class="fas fa-sitemap mr-3"></i>Code Structure & Organization
      </h2>
      <p class="text-xl text-gray-600 dark:text-gray-400">
        Imports, naming conventions, comments - Professional code organization
      </p>
    </div>

    <!-- THEORY SECTION -->
    <div
      class="mb-16 bg-gradient-to-br from-indigo-100 to-purple-100 dark:from-indigo-900/20 dark:to-purple-900/20 p-8 rounded-2xl">
      <h3 class="text-3xl font-bold mb-6 text-indigo-600 dark:text-indigo-400">
        <i class="fas fa-graduation-cap mr-3"></i>Mengapa Code Structure Penting?
      </h3>

      <div class="space-y-6 text-gray-800 dark:text-gray-200">
        <div>
          <h4 class="text-xl font-bold mb-3">üìö Apa itu Code Structure?</h4>
          <p class="text-lg mb-3">
            <strong>Code Structure</strong> adalah cara kita mengorganisir dan memformat kode agar mudah dibaca,
            maintainable,
            dan consistent. Ini bukan hanya soal "looks pretty", tapi fundamental untuk professional development.
          </p>
          <p class="text-base">
            Anggap ini sebagai "tata bahasa dan tanda baca" untuk pemrograman. Struktur buruk = kode yang bekerja tapi
            mimpi buruk untuk di-maintain!
            untuk maintain!
          </p>
        </div>

        <div class="bg-white dark:bg-gray-800 p-6 rounded-xl">
          <h4 class="text-xl font-bold mb-4 text-green-600 dark:text-green-400">
            ‚úÖ Mengapa Structure Matters? (CRITICAL!)
          </h4>
          <div class="grid md:grid-cols-2 gap-4">
            <div>
              <h5 class="font-bold mb-2">1. Kode Dibaca 10x Lebih Sering Daripada Ditulis</h5>
              <p class="text-sm">Kamu akan menghabiskan JAUH lebih banyak waktu membaca kode daripada menulisnya.
                Struktur yang baik = pemahaman lebih cepat.</p>
            </div>
            <div>
              <h5 class="font-bold mb-2">2. Team Collaboration</h5>
              <p class="text-sm">Struktur yang konsisten berarti semua orang bisa memahami kode satu sama lain dengan
                instant.</p>
            </div>
            <div>
              <h5 class="font-bold mb-2">3. Bug Prevention</h5>
              <p class="text-sm">Kode yang terstruktur baik membuat bug jadi jelas. Kode berantakan menyembunyikan bug
                dalam kompleksitas.</p>
            </div>
            <div>
              <h5 class="font-bold mb-2">4. Standar Profesional</h5>
              <p class="text-sm">Mengikuti konvensi (seperti PEP 8) menunjukkan kamu profesional, bukan amatir.</p>
            </div>
          </div>
        </div>

        <div class="bg-blue-50 dark:bg-blue-900/30 p-6 rounded-xl">
          <h4 class="text-xl font-bold mb-3">üìñ PEP 8: Python's Style Guide</h4>
          <p class="text-sm mb-4">
            <strong>PEP 8</strong> adalah panduan gaya resmi untuk Python. Bukan cuma "saran" - ini adalah
            <strong>standar industri</strong> yang diharapkan oleh setiap programmer Python.
          </p>
          <div class="grid md:grid-cols-3 gap-4 text-sm">
            <div class="bg-white/50 dark:bg-gray-800/50 p-3 rounded">
              <h6 class="font-bold mb-2">Aturan Penamaan</h6>
              <ul class="text-xs space-y-1">
                <li>‚Ä¢ Variables: <code>snake_case</code></li>
                <li>‚Ä¢ Functions: <code>snake_case</code></li>
                <li>‚Ä¢ Classes: <code>PascalCase</code></li>
                <li>‚Ä¢ Constants: <code>UPPER_CASE</code></li>
              </ul>
            </div>
            <div class="bg-white/50 dark:bg-gray-800/50 p-3 rounded">
              <h6 class="font-bold mb-2">Aturan Spasi</h6>
              <ul class="text-xs space-y-1">
                <li>‚Ä¢ Indentation: 4 spaces</li>
                <li>‚Ä¢ Max line: 79 characters</li>
                <li>‚Ä¢ Blank lines: 2 before class, 1 before method</li>
              </ul>
            </div>
            <div class="bg-white/50 dark:bg-gray-800/50 p-3 rounded">
              <h6 class="font-bold mb-2">Urutan Import</h6>
              <ul class="text-xs space-y-1">
                <li>1. Library Standar</li>
                <li>2. Pihak Ketiga (Third-party)</li>
                <li>3. Import Lokal</li>
                <li>‚Ä¢ Urut abjad di setiap grup</li>
              </ul>
            </div>
          </div>
        </div>

        <div
          class="bg-gradient-to-r from-orange-50 to-red-50 dark:from-orange-900/20 dark:to-red-900/20 p-6 rounded-xl">
          <h4 class="text-xl font-bold mb-3">üéØ The "Why" Behind Structure Rules</h4>
          <div class="space-y-3 text-sm">
            <div>
              <h6 class="font-bold">Kenapa snake_case untuk variables?</h6>
              <p class="text-xs">Lebih mudah dibaca daripada camelCase di Python. "velocity_x" lebih jelas dari
                "velocityX".</p>
            </div>
            <div>
              <h6 class="font-bold">Kenapa pakai 4 spasi untuk indentasi?</h6>
              <p class="text-xs">2 spasi = susah lihat struktur. 8 spasi = terlalu lebar. 4 = seimbang sempurna.</p>
            </div>
            <div>
              <h6 class="font-bold">Kenapa urutan import penting?</h6>
              <p class="text-xs">Langsung lihat dependensi. Lib standar (selalu ada) vs pihak ketiga (perlu
                install) vs lokal (kodemu).</p>
            </div>
            <div>
              <h6 class="font-bold">Kenapa maksimal 79 karakter per baris?</h6>
              <p class="text-xs">Pas di layar apa saja, terbaca tanpa scroll samping, review kode jejer.</p>
            </div>
          </div>
        </div>

        <div class="callout important">
          <h4 class="font-bold mb-2">‚ö° Key Principle: "Code for Humans, Not Machines"</h4>
          <p class="text-sm">
            Komputer tidak peduli dengan formatting. Manusia peduli! Struktur yang baik membuat kode mendokumentasikan
            diri sendiri.
            Jika harus pilih antara "pintar" vs "jelas", SELALU pilih jelas.
          </p>
        </div>
      </div>
    </div>

    <!-- Imports -->
    <div class="mb-12">
      <h3 class="text-3xl font-bold mb-6">üì¶ Pengaturan Import</h3>

      <div class="bg-white dark:bg-gray-700 p-6 rounded-xl shadow-lg">
        <div class="code-block mb-4">
          <button class="copy-btn bg-blue-500 text-white px-2 py-1 rounded text-sm"
            onclick="copyCode(this)">Copy</button>
          <pre class="rounded-lg"><code class="language-python"># app.py - Organized imports
# 1. Standard library imports first (Library standar duluan)
import tkinter as tk
from tkinter import ttk, filedialog, messagebox
import numpy as np
import matplotlib.pyplot as plt
from matplotlib.backends.backend_tkagg import FigureCanvasTkAgg
import csv
from typing import Optional

# 2. Local imports (modular structure)
from constants import (
    PIXELS_TO_METERS, TIME_STEP, COLLISION_DURATION,
    BALL_RADIUS_PIXELS, BALL_1_COLOR, BALL_2_COLOR,
    CANVAS_BG_COLOR, GRID_COLOR, GRID_STEP_PIXELS,
    CENTER_OF_MASS_COLOR
)
from ball import Ball
from physics import (
    calculate_collision, handle_wall_bounce,
    calculate_center_of_mass, calculate_physics_data
)
from ui_components import (
    create_mode_selector, create_restitution_selector,
    create_ball_input_row, create_position_sliders,
    create_control_buttons, create_info_panel
)</code></pre>
        </div>

        <div class="callout tip">
          <h4 class="font-bold mb-2">‚úÖ Import Best Practices (PEP 8)</h4>
          <ul class="text-sm space-y-1">
            <li>‚Ä¢ Group: standard ‚Üí third-party ‚Üí local</li>
            <li>‚Ä¢ One import per line untuk from imports</li>
            <li>‚Ä¢ Alphabetical order dalam each group</li>
            <li>‚Ä¢ Avoid wildcard imports (<code>from x import *</code>)</li>
          </ul>
        </div>
      </div>
    </div>

    <!-- Naming Conventions -->
    <div class="mb-12">
      <h3 class="text-3xl font-bold mb-6">üè∑Ô∏è Naming Conventions</h3>

      <div class="grid md:grid-cols-2 gap-6">
        <div class="bg-purple-50 dark:bg-purple-900/20 p-6 rounded-xl">
          <h4 class="font-bold text-lg text-purple-600 dark:text-purple-300 mb-3">Classes & Constants</h4>
          <div class="code-block">
            <button class="copy-btn bg-purple-500 text-white px-2 py-1 rounded text-sm"
              onclick="copyCode(this)">Copy</button>
            <pre class="rounded-lg text-sm"><code class="language-python"># PascalCase for classes
class Ball:
class CollisionSimulatorApp:

# UPPERCASE for constants
PIXELS_TO_METERS = 0.01
TIME_STEP = 0.02
BALL_RADIUS_PIXELS = 20
CANVAS_BG_COLOR = "#f5f5f5"</code></pre>
          </div>
        </div>

        <div class="bg-green-50 dark:bg-green-900/20 p-6 rounded-xl">
          <h4 class="font-bold text-lg text-green-600 dark:text-green-300 mb-3">Variables & Functions</h4>
          <div class="code-block">
            <button class="copy-btn bg-green-500 text-white px-2 py-1 rounded text-sm"
              onclick="copyCode(this)">Copy</button>
            <pre class="rounded-lg text-sm"><code class="language-python"># snake_case for variables
time_step = 0.02
simulation_time = 0.0
restitution_coefficient = 1.0

# snake_case for functions/methods
def move(self, time_step):
def _handle_collision(self):
def _setup_user_interface(self):</code></pre>
          </div>
        </div>
      </div>

      <div class="highlight-box mt-6">
        <h4 class="font-bold text-lg mb-3">üìù Naming Rules Summary</h4>
        <table class="comparison-table w-full">
          <thead>
            <tr>
              <th>Type</th>
              <th>Convention</th>
              <th>Contoh</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td>Class</td>
              <td>PascalCase</td>
              <td><code>Ball</code>, <code>CollisionSimulatorApp</code></td>
            </tr>
            <tr>
              <td>Constant</td>
              <td>UPPERCASE</td>
              <td><code>PIXELS_TO_METERS</code>, <code>TIME_STEP</code></td>
            </tr>
            <tr>
              <td>Variable/Function</td>
              <td>snake_case</td>
              <td><code>time_step</code>, <code>move()</code></td>
            </tr>
            <tr>
              <td>Private</td>
              <td>_leading_underscore</td>
              <td><code>_handle_collision()</code></td>
            </tr>
          </tbody>
        </table>
      </div>
    </div>

    <!-- Comments & Documentation -->
    <div class="mb-12">
      <h3 class="text-3xl font-bold mb-6">üí¨ Comments & Documentation</h3>

      <div class="grid md:grid-cols-2 gap-6 mb-6">
        <div class="bg-white dark:bg-gray-700 p-6 rounded-xl shadow-lg">
          <h4 class="font-bold text-lg mb-3">Section Headers</h4>
          <div class="code-block">
            <button class="copy-btn bg-indigo-500 text-white px-2 py-1 rounded text-sm"
              onclick="copyCode(this)">Copy</button>
            <pre class="rounded-lg text-sm"><code class="language-python"># ball.py - Section Headers
# ==========================================
# KELAS BOLA (Ball Object)
# ==========================================

# constants.py - Logical grouping
# ===== KONSTANTA FISIKA =====
# ===== KONSTANTA VISUAL BOLA =====</code></pre>
          </div>
        </div>

        <div class="bg-white dark:bg-gray-700 p-6 rounded-xl shadow-lg">
          <h4 class="font-bold text-lg mb-3">Inline Comments</h4>
          <div class="code-block">
            <button class="copy-btn bg-indigo-500 text-white px-2 py-1 rounded text-sm"
              onclick="copyCode(this)">Copy</button>
            <pre class="rounded-lg text-sm"><code class="language-python"># ball.py - Physics formula comment
# Update posisi: s = s‚ÇÄ + v¬∑Œît
self.position += self.velocity * time_step

# physics.py - Quick explanation
n = pos_diff / (dist + 1e-9)  # Normalisasi</code></pre>
          </div>
        </div>
      </div>

      <div class="callout warning">
        <h4 class="font-bold mb-2">‚ö†Ô∏è Comment Guidelines</h4>
        <ul class="text-sm space-y-1">
          <li>‚Ä¢ Explain WHY, not WHAT: Code shows what it does, comments explain reasoning</li>
          <li>‚Ä¢ Update comments when updating code - outdated comments are worse than no comments</li>
          <li>‚Ä¢ Use docstrings for functions/classes, inline comments for tricky logic</li>
          <li>‚Ä¢ Avoid obvious comments: <code># increment i</code> ‚ùå</li>
        </ul>
      </div>
    </div>

    <!-- Modular Architecture -->
    <div class="mb-12">
      <h3 class="text-3xl font-bold mb-6">üìÇ Modular Architecture (7 Files)</h3>

      <div
        class="bg-gradient-to-r from-indigo-50 to-purple-50 dark:from-indigo-900/20 dark:to-purple-900/20 p-6 rounded-xl mb-6">
        <p class="text-lg mb-4">Kode terorganisir dalam <strong>7 file modular</strong> dengan separation of concerns
          yang jelas:</p>

        <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-4 mb-6">
          <!-- main.py -->
          <div class="bg-white dark:bg-gray-800 p-4 rounded-lg shadow">
            <h5 class="font-bold text-blue-600 dark:text-blue-400 mb-2">üìÑ main.py <span
                class="text-xs text-gray-500">(~20 lines)</span></h5>
            <p class="text-sm mb-2">Entry point aplikasi</p>
            <code class="text-xs block bg-gray-100 dark:bg-gray-700 p-2 rounded">
              from app import CollisionSimulatorApp<br>
              root = tk.Tk()<br>
              app = CollisionSimulatorApp(root)
            </code>
          </div>

          <!-- constants.py -->
          <div class="bg-white dark:bg-gray-800 p-4 rounded-lg shadow">
            <h5 class="font-bold text-green-600 dark:text-green-400 mb-2">‚öôÔ∏è constants.py <span
                class="text-xs text-gray-500">(~28 lines)</span></h5>
            <p class="text-sm mb-2">Konstanta fisika & visual</p>
            <code class="text-xs block bg-gray-100 dark:bg-gray-700 p-2 rounded">
              PIXELS_TO_METERS = 0.01<br>
              TIME_STEP = 0.02<br>
              BALL_RADIUS_PIXELS = 20
            </code>
          </div>

          <!-- ball.py -->
          <div class="bg-white dark:bg-gray-800 p-4 rounded-lg shadow">
            <h5 class="font-bold text-red-600 dark:text-red-400 mb-2">üî¥ ball.py <span
                class="text-xs text-gray-500">(~162 lines)</span></h5>
            <p class="text-sm mb-2">Class Ball (object bola)</p>
            <code class="text-xs block bg-gray-100 dark:bg-gray-700 p-2 rounded">
              class Ball:<br>
              &nbsp;&nbsp;def move(self, time_step)<br>
              &nbsp;&nbsp;def draw_trail(self)
            </code>
          </div>

          <!-- physics.py -->
          <div class="bg-white dark:bg-gray-800 p-4 rounded-lg shadow">
            <h5 class="font-bold text-purple-600 dark:text-purple-400 mb-2">‚öõÔ∏è physics.py <span
                class="text-xs text-gray-500">(~182 lines)</span></h5>
            <p class="text-sm mb-2">Logika fisika tumbukan</p>
            <code class="text-xs block bg-gray-100 dark:bg-gray-700 p-2 rounded">
              calculate_collision()<br>
              handle_wall_bounce()<br>
              calculate_physics_data()
            </code>
          </div>

          <!-- ui_components.py -->
          <div class="bg-white dark:bg-gray-800 p-4 rounded-lg shadow">
            <h5 class="font-bold text-orange-600 dark:text-orange-400 mb-2">üé® ui_components.py <span
                class="text-xs text-gray-500">(~287 lines)</span></h5>
            <p class="text-sm mb-2">Helper UI components</p>
            <code class="text-xs block bg-gray-100 dark:bg-gray-700 p-2 rounded">
              create_mode_selector()<br>
              create_ball_input_row()<br>
              create_control_buttons()
            </code>
          </div>

          <!-- app.py -->
          <div class="bg-white dark:bg-gray-800 p-4 rounded-lg shadow">
            <h5 class="font-bold text-cyan-600 dark:text-cyan-400 mb-2">üöÄ app.py <span
                class="text-xs text-gray-500">(~555 lines)</span></h5>
            <p class="text-sm mb-2">Aplikasi utama (Controller)</p>
            <code class="text-xs block bg-gray-100 dark:bg-gray-700 p-2 rounded">
              class CollisionSimulatorApp:<br>
              &nbsp;&nbsp;def start_simulation()<br>
              &nbsp;&nbsp;def _run_loop()
            </code>
          </div>
        </div>

        <!-- Dependency Diagram -->
        <div class="bg-white dark:bg-gray-800 p-6 rounded-xl">
          <h5 class="font-bold text-lg mb-4 text-center">üîó Dependencies Flow</h5>
          <div class="text-center text-sm">
            <code class="block p-4 bg-gray-100 dark:bg-gray-700 rounded-lg font-mono">
              main.py ‚Üí app.py ‚Üí ball.py + physics.py + ui_components.py<br>
                                ‚Üì<br>
                          constants.py (shared)
            </code>
          </div>
        </div>
      </div>

      <div class="grid md:grid-cols-2 gap-4">
        <div class="callout success">
          <h4 class="font-bold mb-2">‚úÖ Manfaat Modular Architecture</h4>
          <ul class="text-sm space-y-1">
            <li>‚Ä¢ <strong>Single Responsibility:</strong> Each file has one job</li>
            <li>‚Ä¢ <strong>Easy Testing:</strong> Test komponen secara terpisah</li>
            <li>‚Ä¢ <strong>Reusability:</strong> Import ball.py di project lain</li>
            <li>‚Ä¢ <strong>Maintainability:</strong> Bug di physics.py? Cari di satu file</li>
          </ul>
        </div>
        <div class="callout tip">
          <h4 class="font-bold mb-2">üí° Import Pattern</h4>
          <div class="code-block">
            <pre class="rounded-lg text-sm"><code class="language-python"># app.py - importing local modules
from constants import PIXELS_TO_METERS
from ball import Ball
from physics import calculate_collision
from ui_components import create_mode_selector</code></pre>
          </div>
        </div>
      </div>
    </div>

    <!-- Code Grouping -->
    <div class="mb-12">
      <h3 class="text-3xl font-bold mb-6">üìã File-by-File Structure</h3>

      <div
        class="bg-gradient-to-r from-orange-50 to-yellow-50 dark:from-orange-900/20 dark:to-yellow-900/20 p-6 rounded-xl">
        <p class="text-lg mb-4">Setiap file terorganisir dalam sections yang jelas:</p>

        <div class="grid md:grid-cols-2 gap-4">
          <div>
            <h5 class="font-bold mb-2">app.py Structure (~555 lines)</h5>
            <ul class="text-sm space-y-1">
              <li>‚Ä¢ Imports (Lines 1-30)</li>
              <li>‚Ä¢ Class Definition (Lines 33-555)</li>
              <li>‚Ä¢ __init__ (Lines 59-103)</li>
              <li>‚Ä¢ Setup UI Methods (Lines 115-230)</li>
              <li>‚Ä¢ Event Handlers (Lines 234-293)</li>
              <li>‚Ä¢ Visual Helpers (Lines 298-343)</li>
              <li>‚Ä¢ Core Simulation (Lines 348-528)</li>
              <li>‚Ä¢ Data Export (Lines 530-555)</li>
            </ul>
          </div>
          <div>
            <h5 class="font-bold mb-2">ball.py Structure (~162 lines)</h5>
            <ul class="text-sm space-y-1">
              <li>‚Ä¢ Imports & Constants (Lines 1-15)</li>
              <li>‚Ä¢ Class Ball (Lines 18-162)</li>
              <li>‚Ä¢ __init__ (Lines 42-101)</li>
              <li>‚Ä¢ draw_trail() (Lines 103-125)</li>
              <li>‚Ä¢ update_visual_position() (Lines 127-138)</li>
              <li>‚Ä¢ move() (Lines 140-162)</li>
            </ul>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>